[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Santo Domingo urban bird analysis book",
    "section": "",
    "text": "1 Introduction\nGuide to building a book in Quarto and publishing on github.io for Conte ecohydrology crew.\n\n\nSession Information\n\n\n\n\nCodesessionInfo()\n\nR version 4.3.1 (2023-06-16 ucrt)\nPlatform: x86_64-w64-mingw32/x64 (64-bit)\nRunning under: Windows 10 x64 (build 19045)\n\nMatrix products: default\n\n\nlocale:\n[1] LC_COLLATE=English_United States.utf8 \n[2] LC_CTYPE=English_United States.utf8   \n[3] LC_MONETARY=English_United States.utf8\n[4] LC_NUMERIC=C                          \n[5] LC_TIME=English_United States.utf8    \n\ntime zone: America/New_York\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.6.4 compiler_4.3.1    fastmap_1.2.0     cli_3.6.2        \n [5] tools_4.3.1       htmltools_0.5.8.1 rstudioapi_0.16.0 rmarkdown_2.27   \n [9] knitr_1.46        jsonlite_1.8.8    xfun_0.44         digest_0.6.35    \n[13] rlang_1.1.3       evaluate_0.23",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "SD00datacleaning.html",
    "href": "SD00datacleaning.html",
    "title": "Bird and i-Tree Data Cleaning",
    "section": "",
    "text": "Bird data preparation\nSite naming convention keys generated and resaved with appropriate cross walks.\nCode# read in site key and make additional corrections.\nbirditree_sitejoin_key &lt;- read.csv(file = \"./data/iTree_Bird_site_key.csv\") |&gt;\n   mutate(itreeplotID = if_else(is.na(PlotNum),NA,\n                                paste0(SectorID, str_pad(PlotNum, width = 4,\n                                                side = 'left', pad = '0')) ) )\n\n# fixing incorrect coordinates for ZC11\nbirditree_sitejoin_key$lat[birditree_sitejoin_key$SiteID == \"ZC11\"] &lt;- 18.46920\nbirditree_sitejoin_key$long[birditree_sitejoin_key$SiteID == \"ZC11\"] &lt;- -69.88445\n\n# Save crosswalk keys for clean data directory and to read in for future analyses\nwrite_csv(birditree_sitejoin_key, file = \"./data/iTree_Bird_site_key.csv\")\nsaveRDS(birditree_sitejoin_key, file = \"./data/iTree_Bird_site_key.RDS\")",
    "crumbs": [
      "Bird and i-Tree Data Cleaning"
    ]
  },
  {
    "objectID": "SD00datacleaning.html#bird-data-preparation",
    "href": "SD00datacleaning.html#bird-data-preparation",
    "title": "Bird and i-Tree Data Cleaning",
    "section": "",
    "text": "Site Visit data cleaning\nRead in raw Site Visit data\nRead in bird site data from master excel file covering surveys from October 2016 through May 2023. Necessary adjustments for column names and data type (factor, numeric, etc.) were also addressed.\n\nCodebird_dat_site &lt;- \n  read_xlsx(path = \"./data/bird/SD_URBANBIRDDATA202305.xlsx\",\n            sheet = \"Site (point) Info\", \n            col_types = c(\"numeric\",\"text\",\"text\",\"text\",\"text\",\"date\",\"numeric\",\n                          \"numeric\",\"numeric\",\"numeric\",\"numeric\",\"numeric\",\n                          \"numeric\",\"numeric\",\"numeric\",\"numeric\",\n                          \"list\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\n                          \"text\",\"text\")) |&gt;\n  rename(SID = \"Site InfoUIDDIFFERENT FROM COLUMN HEADINGS UID\",\n         Tech = \"Tech-nician\",\n         DisturbIndex = \"Disturb-Level\",\n         NumPeople = \"Num-People\",\n         TempF = \"Temp oF\", TempC = \"Ambtemp oC\",\n         WindIndex = \"Wind index (Beaufort scale 0-3)\",\n         Wind_mph = \"Wind (mi/hr)\", Wind_kph = \"Wind  (km/hr)\",\n         EnvNoise = \"EnvNoise index.    (1-3)\",\n         NoiseTypels = \"NoiseType [single column, separated by commas]\",\n         NoiseTypeA = \"NoiseType [parsed into 8 columns, still associated with the same UID (row)]\",\n         NoiseTypeB = \"...19\",\n         NoiseTypeC = \"...20\",\n         NoiseTypeD = \"...21\",\n         NoiseTypeE = \"...22\",\n         NoiseTypeF = \"...23\",\n         NoiseTypeG = \"...24\",\n         NoiseTypeH = \"...25\")  |&gt;\n  filter(!is.na(SID)) |&gt;\n  mutate(SectorName = factor(Sector)) |&gt;  select(-Sector) |&gt;\n  mutate(SiteID = gsub(x = SiteID, pattern = \"CC\", replacement = \"ZC\")) |&gt;\n  mutate(SiteID = gsub(x = SiteID, pattern = \"NC\", replacement = \"CN\")) |&gt;  \n  filter(complete.cases(SID, SectorName, SiteID, EnvNoise)) \n\n# relevel factor names for Sector\nbird_dat_site$SectorName &lt;- \n  forcats::fct_recode(bird_dat_site$SectorName, \n                      \"Zona Colonial\" = \"Colonial City\", \"Gazcue\" = \"Gascue\",\n                      \"Ciudad Nueva\" = \"New City\", \"San Carlos\" = \"San Carlos\")\n\n\nSite Visit data corrections\nRandom entry error for noise index\n\nCode# fix data entry mistake\nbird_dat_site$EnvNoise[bird_dat_site$EnvNoise == 2.2] &lt;- 2\n\n\nSiteName and SiteID mismatched entry corrections\n\nCode# Fixing SiteName and SiteID matching issues\nbird_dat_site$SiteName[bird_dat_site$SiteName == \"El destacamento (S. Piedra)\"] &lt;-\n  \"El Destacamento (S. Piedra)\"\nbird_dat_site$SiteID[bird_dat_site$SiteName == \"Ruins Iglesia San Anton\" &\n                         bird_dat_site$SiteID == \"ZCA02\"] &lt;- \"ZCA04\"\nbird_dat_site$SiteName[bird_dat_site$SiteName == \"Ruins of San Francisco\" &\n                         bird_dat_site$SiteID == \"ZCA03\"] &lt;- \"Ruins San Nicolas de Baris\"\nbird_dat_site$SiteName[bird_dat_site$SiteName == \"Colegio Los Pichildren\" &\n                         bird_dat_site$SiteID == \"GA05\"] &lt;- \"Colegio Los Pininos\"\nbird_dat_site$SiteName[bird_dat_site$SiteName == \"Residencial Luz De Luna\" &\n                         bird_dat_site$SiteID == \"GA07\"] &lt;- \"Residencial Luz de Luna\"\nbird_dat_site$SiteID[bird_dat_site$SiteName == \"Pica Pollo Ana Calle E. M. Hosto\" &\n                         bird_dat_site$SiteID == \"CN14\"] &lt;- \"CN13\"\nbird_dat_site$SiteID[bird_dat_site$SiteName == \"Pica Pollo Ana Calle E. M. Hosto\" &\n                         bird_dat_site$SiteID == \"CN30\"] &lt;- \"CN13\"\nbird_dat_site$SiteName[bird_dat_site$SiteName == \"Detras de los Bomberos\" &\n                         bird_dat_site$SiteID == \"SC10\"] &lt;- \"Detras de Los Bomberos\"\nbird_dat_site$SiteName[bird_dat_site$SiteName == \"Zone Music Calle 30 de Marzo\" &\n                         bird_dat_site$SiteID == \"SC29\"] &lt;- \"Venta Flor Calle Benito\"\nbird_dat_site$SiteName[bird_dat_site$SiteName == \"Venta Flor Calle Benito\" &\n                         bird_dat_site$SiteID == \"SC31\"] &lt;- \"Zone Music Calle 30 de Marzo\"\n\n\nJoining i-Tree plot ID fields to bird Site Data\n\nCode# join key to match i-Tree plots with bird sites\nbird_dat_site &lt;- bird_dat_site |&gt;\n  left_join(select(birditree_sitejoin_key, SiteID, SectorID, itreeplotID), \n            by = \"SiteID\")\n\n\nCorrections made to Site Data dates\n\nCode# ErrorEntryPairing 2\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN02\" & \n                     bird_dat_site$Date == date(\"2021-11-01\")] &lt;- date(\"2021-11-02\")\n# ErrorEntryPairing 3\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN02\" & \n                     bird_dat_site$Date == date(\"2022-01-06\")] &lt;- date(\"2022-01-07\")\n# ErrorEntryPairing 7\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN09\" & \n                     bird_dat_site$Date == date(\"2021-11-01\")] &lt;- date(\"2021-11-02\")\n# ErrorEntryPairing 8\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN09\" & \n                     bird_dat_site$Date == date(\"2022-01-06\")] &lt;- date(\"2022-01-07\")\n# ErrorEntryPairing 10\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN12\" & \n                     bird_dat_site$Date == date(\"2021-11-01\")] &lt;- date(\"2021-11-02\")\n# ErrorEntryPairing 12\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN13\" & \n                     bird_dat_site$Date == date(\"2021-11-01\")] &lt;- date(\"2021-11-02\")\n# ErrorEntryPairing 13\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN13\" & \n                     bird_dat_site$Date == date(\"2022-01-06\")] &lt;- date(\"2022-01-07\")\n# ErrorEntryPairing 15\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN14\" & \n                     bird_dat_site$Date == date(\"2021-11-01\")] &lt;- date(\"2021-11-02\")\n# ErrorEntryPairing 16\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN14\" & \n                     bird_dat_site$Date == date(\"2022-01-06\")] &lt;- date(\"2022-01-07\")\n# ErrorEntryPairing 18\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN18\" & \n                     bird_dat_site$Date == date(\"2021-11-01\")] &lt;- date(\"2021-11-02\")\n# ErrorEntryPairing 19\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN18\" & \n                     bird_dat_site$Date == date(\"2022-01-06\")] &lt;- date(\"2022-01-07\")\n# ErrorEntryPairing 21\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN21\" & \n                     bird_dat_site$Date == date(\"2021-11-01\")] &lt;- date(\"2021-11-02\")\n# ErrorEntryPairing 22\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN21\" & \n                     bird_dat_site$Date == date(\"2022-01-06\")] &lt;- date(\"2022-01-07\")\n# ErrorEntryPairing 25\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN25\" & \n                     bird_dat_site$Date == date(\"2021-11-01\")] &lt;- date(\"2021-11-02\")\n# ErrorEntryPairing 26\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN25\" & \n                     bird_dat_site$Date == date(\"2022-01-06\")] &lt;- date(\"2022-01-07\")\n# ErrorEntryPairing 28\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN27\" & \n                     bird_dat_site$Date == date(\"2021-11-01\")] &lt;- date(\"2021-11-02\")\n# ErrorEntryPairing 32\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN33\" & \n                     bird_dat_site$Date == date(\"2021-11-01\")] &lt;- date(\"2021-11-02\")\n# ErrorEntryPairing 33\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN33\" & \n                     bird_dat_site$Date == date(\"2022-11-09\")] &lt;- date(\"2022-11-07\")\n# ErrorEntryPairing 35\nbird_dat_site$Date[bird_dat_site$SiteID == \"CN34\" & \n                     bird_dat_site$Date == date(\"2022-01-06\")] &lt;- date(\"2022-01-07\")\n# ErrorEntryPairing 36\nbird_dat_site$Date[bird_dat_site$SiteID == \"GA01\" & \n                     bird_dat_site$Date == date(\"2018-12-17\")] &lt;- date(\"2018-12-12\")\n# ErrorEntryPairing 37.1\nbird_dat_site$Date[bird_dat_site$SiteID == \"GA03\" & \n                     bird_dat_site$Date == date(\"2021-05-15\")] &lt;- date(\"2021-05-17\")\n# ErrorEntryPairing 37.2\nbird_dat_site$Date[bird_dat_site$SiteID == \"GA03\" & \n                     bird_dat_site$Date == date(\"2022-05-17\")] &lt;- date(\"2022-05-19\")\n# ErrorEntryPairing 38\nbird_dat_site$Date[bird_dat_site$SiteID == \"GA04\" & \n                     bird_dat_site$Date == date(\"2016-12-07\")] &lt;- date(\"2016-12-06\")\n# ErrorEntryPairing 40\nbird_dat_site$Date[bird_dat_site$SiteID == \"GA07\" & \n                     bird_dat_site$Date == date(\"2022-05-17\")] &lt;- date(\"2022-05-19\")\n# ErrorEntryPairing 41\nbird_dat_site$Date[bird_dat_site$SiteID == \"GA10\" & \n                     bird_dat_site$Date == date(\"2016-12-07\")] &lt;- date(\"2016-12-06\")\n# ErrorEntryPairing 44\nbird_dat_site$Date[bird_dat_site$SiteID == \"GA42\" & \n                     bird_dat_site$Date == date(\"2022-05-17\")] &lt;- date(\"2022-05-19\")\n# ErrorEntryPairing 46\nbird_dat_site$Date[bird_dat_site$SiteID == \"SC20\" & \n                     bird_dat_site$Date == date(\"2016-12-14\")] &lt;- date(\"2016-12-13\")\n# ErrorEntryPairing 47\nbird_dat_site$Date[bird_dat_site$SiteID == \"SC26\" & \n                     bird_dat_site$Date == date(\"2016-12-14\")] &lt;- date(\"2016-12-13\")\n# ErrorEntryPairing 48\nbird_dat_site$Date[bird_dat_site$SiteID == \"ZC11\" & \n                     bird_dat_site$Date == date(\"2016-12-11\")] &lt;- date(\"2016-12-12\")\n# ErrorEntryPairing 49\nbird_dat_site$Date[bird_dat_site$SiteID == \"ZC11\" & \n                     bird_dat_site$Date == date(\"2021-10-19\")] &lt;- date(\"2021-10-16\")\n# ErrorEntryPairing 50\nbird_dat_site$Date[bird_dat_site$SiteID == \"ZC11\" & \n                     bird_dat_site$Date == date(\"2022-03-26\")] &lt;- date(\"2022-03-27\")\n# ErrorEntryPairing 51\nbird_dat_site$Date[bird_dat_site$SiteID == \"ZC12\" & \n                     bird_dat_site$Date == date(\"2020-05-22\")] &lt;- date(\"2020-05-26\")\n# ErrorEntryPairing 52\nbird_dat_site$Date[bird_dat_site$SiteID == \"ZC14\" & \n                     bird_dat_site$Date == date(\"2020-05-22\")] &lt;- date(\"2020-05-26\")\n# ErrorEntryPairing 53\nbird_dat_site$Date[bird_dat_site$SiteID == \"ZC15\" & \n                     bird_dat_site$Date == date(\"2020-05-22\")] &lt;- date(\"2020-05-26\")\n# ErrorEntryPairing 54\nbird_dat_site$Date[bird_dat_site$SiteID == \"ZC37\" & \n                     bird_dat_site$Date == date(\"2022-03-13\")] &lt;- date(\"2022-03-15\")\n# ErrorEntryPairing 55\nbird_dat_site$Date[bird_dat_site$SiteID == \"ZCA02\" & \n                     bird_dat_site$Date == date(\"2020-05-22\")] &lt;- date(\"2020-05-26\")\n# ErrorEntryPairing 56\nbird_dat_site$Date[bird_dat_site$SiteID == \"ZCA03\" & \n                     bird_dat_site$Date == date(\"2021-10-15\")] &lt;- date(\"2021-10-16\")\n# ErrorEntryPairing 57\nbird_dat_site$Date[bird_dat_site$SiteID == \"ZCA04\" & \n                     bird_dat_site$Date == date(\"2017-03-27\")] &lt;- date(\"2017-03-28\")\n# ErrorEntryPairing 58\nbird_dat_site$Date[bird_dat_site$SiteID == \"ZCA05\" & \n                     bird_dat_site$Date == date(\"2020-11-25\")] &lt;- date(\"2020-11-24\")\n# ErrorEntryPairing 59\nbird_dat_site$Date[bird_dat_site$SiteID == \"ZCA07\" & \n                     bird_dat_site$Date == date(\"2017-09-28\")] &lt;- date(\"2017-09-29\")\n# ErrorEntryPairing 60\nbird_dat_site$Date[bird_dat_site$SiteID == \"GA88\" & \n                     bird_dat_site$Date == date(\"2016-12-07\")] &lt;- date(\"2016-12-06\")\n\n\n\nPoint Count data cleaning\nBird keys\nRead in the key for “Occurrence Status”, “Foraging Guilds”, and “four-letter Alpha species codes”.\n\nCode# Institute for Bird Populations 2023 official name list (birdpop.org)\nibp_names &lt;- read_csv(file = \"./data/bird/IBP-AOS-LIST23_reduced.csv\")\n\n# Wayne's AlphaCodes, Foraging Status, and Occurrence Status details\nkey_bird_names &lt;- \n  read_csv(file = \"./data/bird/Bird_OccurenceStatus_and_ForagingGuild_Key.csv\",\n           show_col_types = FALSE) |&gt;\n  mutate(OC_E = if_else(OccurenceStatus == \"E\", 1, 0),\n         OC_I = if_else(OccurenceStatus == \"I\", 1, 0),\n         OC_M = if_else(OccurenceStatus == \"M\", 1, \n                        if_else(OccurenceStatus == \"R, M\",1,0) ),\n         OC_R = if_else(OccurenceStatus == \"R\", 1, \n                        if_else(OccurenceStatus == \"R, M\",1,0) ),\n         OC_V = if_else(OccurenceStatus == \"V\", 1, 0) ) \n\n\n\nCodeaplphacode_checks &lt;- key_bird_names |&gt;\n  left_join(ibp_names, by = c(\"AlphaCode\" = \"IBP_AlphaCode\")) |&gt;\n  select(AlphaCode, contains(c(\"Sci\",\"Common\")), -contains(c(\"Spanish\")))\n\n\nUpdates to bird name details by AlphaCode\nUpdates were made to match the IBP 2023 list of approved 4-letter alpha codes for birds of North America.\n\nANEU: Antillean Euphonia/Euphonia musica -&gt; no exact match in IBP. Possible match in: HIEU/Hispaniolan Euphonia/Chlorophonia musica\nANMA: Antillean Mango/Anthracothorax dominicus -&gt; IBP data: HIMA/Hispaniolan Mango/Anthracothorax dominicus\nBFGR: Black-faced Grassquit/Tiaris bicolor -&gt; IBP has most current SciName: Melanospiza bicolor, Use IBP Scientific Name\nBRBO: Anous stolidus/Sula leucogaster; Brown Noddy/Brown Booby -&gt; change AlphaCode to BRNO\nCACO: Fulica caribaea/Gymnogyps californianus; Caribbean Coot/California Condor -&gt; set to IBP Entry: AMCO/American Coot/Fulica americana, based on -&gt; (https://avibase.bsc-eoc.org/species.jsp?avibaseid=BB9C0A8BB9B447E5)\nCOCK: Cockatiel/Nymphicus hollandicus -&gt; no matching entires in IBP2023; leave as is for now.\nCOGD: Common Ground-Dove/Columbina passerina -&gt; change to IBP: CGDO/Common Ground Dove/Columbina passerina\nGABU: Loxigilla violacea/Melopyrrha violacea; Greater Antillean Bullfinch/Greater Antillean Bullfinch -&gt; use IBP SciName\nGANI: Greater Antillean Nightjar/Antrostomus cubanensis -&gt; maybe IBP entry: HINI/Hispaniolan Nightjar/Antrostomus ekmani\nHIEM: Chlorostilbon swainsonii/Riccordia swainsonii; Hispaniolan Emerald/Hispaniolan Emerald -&gt; update to IBP SciName\nNOHO: Northern Harrier/Circus cyaneus -&gt; IBP Entry: NOHA/Northern Harrier/Circus hudsonius\nPACR: Palm Crow/Corvus palmarum -&gt; IBP Entry: HIPC/Hispaniolan Palm-Crow/Corvus palmarum\nPIWA: Setophaga pinus chrysoleuca/Setophaga pinus; Pine Warbler/Pine Warbler -&gt; use IBP SciName\nPUGA: Porphyrio martinica/Porphyrio martinicus; Purple Gallinule/Purple Gallinule -&gt; use IBP SciName\nRBGB: Rose-breasted Grosbeak/Pheucticus ludovicianus -&gt; IBP Entry: RBGR/Rose-breasted Grosbeak/Pheucticus ludovicianus\nRCKI: Regulus calendula/Corthylio calendula; Ruby-crowned Kinglet/Ruby-crowned Kinglet -&gt; use IBP SciName\nSCCO: Sulphur-crested Cockatoo/Lophornis brachylophus; Cacatua galerita/Short-crested Coquette -&gt; Set AlphaCode to SUCO\nWEWA: Helmitheros vermivorus/Helmitheros vermivorum; Worm-eating Warbler/Worm-eating Warbler -&gt; use IBP SciName\nWILL: Tringa semipalmatus/Tringa semipalmata; Willet/Willet -&gt; Use IBP SciName\n\nCorrections made to match IBP naming conventions for 2023\n\nCode# corrections to key_bird_names based on IBP 2023 names list\nkey_bird_names$CommonNameEnglish[key_bird_names$AlphaCode == \"ANEU\"] &lt;- \"Hispaniolan Euphonia\"\nkey_bird_names$ScientificName[key_bird_names$AlphaCode == \"ANEU\"] &lt;- \"Chlorophonia musica\"\nkey_bird_names$AlphaCode[key_bird_names$AlphaCode == \"ANEU\"] &lt;- \"HIEU\"\n\nkey_bird_names$CommonNameEnglish[key_bird_names$AlphaCode == \"ANMA\"] &lt;- \"Hispaniolan Mango\"\nkey_bird_names$ScientificName[key_bird_names$AlphaCode == \"ANMA\"] &lt;- \"Anthracothorax dominicus\"\nkey_bird_names$AlphaCode[key_bird_names$AlphaCode == \"ANMA\"] &lt;- \"HIMA\"\n\nkey_bird_names$ScientificName[key_bird_names$AlphaCode == \"BFGR\"] &lt;- \"Melanospiza bicolor\"\n\nkey_bird_names$AlphaCode[key_bird_names$AlphaCode == \"BRBO\"] &lt;- \"BRNO\"\n\nkey_bird_names$CommonNameEnglish[key_bird_names$AlphaCode == \"CACO\"] &lt;- \"American Coot\"\nkey_bird_names$ScientificName[key_bird_names$AlphaCode == \"CACO\"] &lt;- \"Fulica americana\"\nkey_bird_names$AlphaCode[key_bird_names$AlphaCode == \"CACO\"] &lt;- \"AMCO\"\n\nkey_bird_names$AlphaCode[key_bird_names$AlphaCode == \"COGD\"] &lt;- \"CGDO\"\n\nkey_bird_names$ScientificName[key_bird_names$AlphaCode == \"GABU\"] &lt;- \"Melopyrrha violacea\"\n\nkey_bird_names$CommonNameEnglish[key_bird_names$AlphaCode == \"GANI\"] &lt;- \"Hispaniolan Nightjar\"\nkey_bird_names$ScientificName[key_bird_names$AlphaCode == \"GANI\"] &lt;- \"Antrostomus ekmani\"\nkey_bird_names$AlphaCode[key_bird_names$AlphaCode == \"GANI\"] &lt;- \"HINI\"\n\nkey_bird_names$ScientificName[key_bird_names$AlphaCode == \"HIEM\"] &lt;- \"Riccordia swainsonii\"\n\nkey_bird_names$ScientificName[key_bird_names$AlphaCode == \"NOHO\"] &lt;- \"Circus hudsonius\"\nkey_bird_names$AlphaCode[key_bird_names$AlphaCode == \"NOHO\"] &lt;- \"NOHA\"\n\nkey_bird_names$CommonNameEnglish[key_bird_names$AlphaCode == \"PACR\"] &lt;- \"Hispaniolan Palm-Crow\"\nkey_bird_names$AlphaCode[key_bird_names$AlphaCode == \"PACR\"] &lt;- \"HIPC\"\n\nkey_bird_names$ScientificName[key_bird_names$AlphaCode == \"PUGA\"] &lt;- \"Porphyrio martinicus\"\n\nkey_bird_names$ScientificName[key_bird_names$AlphaCode == \"PIWA\"] &lt;- \"Setophaga pinus\"\n\nkey_bird_names$ScientificName[key_bird_names$AlphaCode == \"RCKI\"] &lt;- \"Corthylio calendula\"\n\nkey_bird_names$AlphaCode[key_bird_names$AlphaCode == \"RBGB\"] &lt;- \"RBGR\"\n\nkey_bird_names$AlphaCode[key_bird_names$AlphaCode == \"SCCO\"] &lt;- \"SUCO\"\n\nkey_bird_names$ScientificName[key_bird_names$AlphaCode == \"WEWA\"] &lt;- \"Helmitheros vermivorum\"\n\nkey_bird_names$ScientificName[key_bird_names$AlphaCode == \"WILL\"] &lt;- \"Tringa semipalmata\"\n\n\n\nCode# Check again for issues after making corrections\naplphacode_checks &lt;- key_bird_names |&gt;\n  left_join(ibp_names, by = c(\"AlphaCode\" = \"IBP_AlphaCode\")) |&gt;\n  mutate(sciname_same = (toupper(ScientificName) == toupper(IBP_SciName) ) ,\n         common_same = (toupper(CommonNameEnglish) == toupper(IBP_Common) ) ) |&gt;\n  select(AlphaCode, contains(c(\"Sci\",\"Common\")), -contains(c(\"Spanish\")))\n\n\n\nCode# save bird key names following corrections\nsaveRDS(key_bird_names, file = \"./data/bird/key_bird_names.RDS\")\n\n\nRead in raw Point Count data\nRead in the data from the bird point counts in Santo Domingo and make necessary adjustments to data types (factor, numeric, etc.) and column names. Also join to site key to match i-Tree plots with their corresponding bird sites.\n\nCodebird_dat_ptct &lt;- \n  read_xlsx(path = \"./data/bird/SD_URBANBIRDDATA202305.xlsx\",\n            sheet = \"RAW DATA\", \n            col_types = c(\"numeric\",\"text\",\"text\",\"text\",\"text\",\"date\",\"date\",\n                          \"date\",\"text\",\"numeric\",\"numeric\",\"text\",\"numeric\",\n                          \"numeric\",\"text\",\"numeric\",\"numeric\",\"text\",\"text\",\n                          \"text\",\"text\",\"text\",\"text\")) |&gt;\n  rename(UID = \"UID (Column Headings explained) DIFFERENT FROM SITE INFOUID\",\n         FTorFO = \"FT  or FO\",\n         Treespp = \"Tree species\",\n         Stratumindex = \"Stratum index\",\n         Inanimatesubs = \"Inanimate substrate\",\n         SectorName = \"Sector\",\n         SppAlphaCode = \"Species\") |&gt;\n  left_join(y = select(key_bird_names, -contains(\"Spanish\")), \n            by = c(\"SppAlphaCode\"=\"AlphaCode\") ) |&gt;\n  mutate(SectorName = if_else(SectorName == \"Colonial City\", \"Zona Colonial\", \n                              if_else(SectorName == \"New City\", \"Ciudad Nueva\",\n                                      SectorName)),\n         SiteID = gsub(x = SiteID, pattern = \"CC\", replacement = \"ZC\")) |&gt;\n  mutate(SiteID = gsub(x = SiteID, pattern = \"NC\", replacement = \"CN\")) |&gt;\n  left_join(y = select(birditree_sitejoin_key,\n                       SectorID, SiteID, lat,\n                       long, PlotNum, itreeplotID), by = \"SiteID\",\n            relationship = \"many-to-one\") |&gt;\n  filter(!is.na(UID))\n\n\nPoint Count data corrections\nSectorName, SectorID, SiteName, and SiteID corrections (by Sector)\nCiudad Nueva\n\nCode# Ciudad Nueva SiteID/SiteName corrections\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN03\" &\n                       bird_dat_ptct$SiteName == \"Pica Pollo Ana Calle E. M. Hosto\" &\n                       bird_dat_ptct$Date == date(\"2021-09-11\")] &lt;- \"CN13\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA08\" &\n                       bird_dat_ptct$SiteName == \"Primera Iglesia Evangelica\" &\n                       bird_dat_ptct$Date == date(\"2018-06-09\")] &lt;- \"ZC08\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN05\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN06\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN07\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN08\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN09\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN10\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN11\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN12\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN13\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN14\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN15\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN16\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN17\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN18\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN19\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN20\" &\n                       bird_dat_ptct$SiteName == \"Casa No. 5 Calle Las Carreras\" &\n                       bird_dat_ptct$Date == date(\"2020-11-07\")] &lt;- \"CN04\"\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteID == \"CN04\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2018-01-12\")] &lt;- \n  \"Casa No. 5 Calle Las Carreras\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN14\" &\n                       bird_dat_ptct$SiteName == \"Pica Pollo Ana Calle E. M. Hosto\" &\n                       bird_dat_ptct$Date == date(\"2018-10-09\")] &lt;- \"CN13\"\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteID == \"CN22\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bu Febt A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2016-12-10\")] &lt;- \n  \"2da. Iglesia E.(Bufet A. F. Mato)\"\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteID == \"CN22\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bu Febt A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2016-12-21\")] &lt;- \n  \"2da. Iglesia E.(Bufet A. F. Mato)\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN23\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN24\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN25\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN26\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN27\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN28\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN29\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN30\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN31\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN32\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN33\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN34\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN35\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN36\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN37\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN38\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN39\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN40\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN41\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN42\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN43\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN44\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN45\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN46\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN47\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"CN48\" &\n                       bird_dat_ptct$SiteName == \"2da. Iglesia E.(Bufet A. F. Mato)\" &\n                       bird_dat_ptct$Date == date(\"2022-09-15\")] &lt;- \"CN22\"\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteID == \"CN33\" &\n                       bird_dat_ptct$SiteName == \"El Gimnasio E. M. Hosto\" &\n                       bird_dat_ptct$Date == date(\"2017-04-04\")] &lt;- \"La Lechonera Calle Pina\"\n\n\nGazcue\n\nCode# GAZCUE SiteID/SiteName corrections\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA\" &\n                       bird_dat_ptct$SiteName == \"Cristo Mio\" &\n                       bird_dat_ptct$Date == date(\"2018-01-09\")] &lt;- \"GA999\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA04\" &\n                       bird_dat_ptct$SiteName == \"El Palacio Nacional (original)\" &\n                       bird_dat_ptct$Date == date(\"2019-12-20\")] &lt;- \"GA03\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA05\" &\n                       bird_dat_ptct$SiteName == \"El Palacio Nacional (original)\" &\n                       bird_dat_ptct$Date == date(\"2019-12-20\")] &lt;- \"GA03\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA06\" &\n                       bird_dat_ptct$SiteName == \"El Palacio Nacional (original)\" &\n                       bird_dat_ptct$Date == date(\"2019-12-20\")] &lt;- \"GA03\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA07\" &\n                       bird_dat_ptct$SiteName == \"El Palacio Nacional (original)\" &\n                       bird_dat_ptct$Date == date(\"2019-12-20\")] &lt;- \"GA03\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA08\" &\n                       bird_dat_ptct$SiteName == \"El Palacio Nacional (original)\" &\n                       bird_dat_ptct$Date == date(\"2019-12-20\")] &lt;- \"GA03\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA09\" &\n                       bird_dat_ptct$SiteName == \"El Palacio Nacional (original)\" &\n                       bird_dat_ptct$Date == date(\"2019-12-20\")] &lt;- \"GA03\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA10\" &\n                       bird_dat_ptct$SiteName == \"El Palacio Nacional (original)\" &\n                       bird_dat_ptct$Date == date(\"2019-12-20\")] &lt;- \"GA03\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA11\" &\n                       bird_dat_ptct$SiteName == \"El Palacio Nacional (original)\" &\n                       bird_dat_ptct$Date == date(\"2019-12-20\")] &lt;- \"GA03\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA12\" &\n                       bird_dat_ptct$SiteName == \"El Palacio Nacional (original)\" &\n                       bird_dat_ptct$Date == date(\"2019-12-20\")] &lt;- \"GA03\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA13\" &\n                       bird_dat_ptct$SiteName == \"El Palacio Nacional (original)\" &\n                       bird_dat_ptct$Date == date(\"2019-12-20\")] &lt;- \"GA03\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA14\" &\n                       bird_dat_ptct$SiteName == \"El Palacio Nacional (original)\" &\n                       bird_dat_ptct$Date == date(\"2019-12-20\")] &lt;- \"GA03\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA15\" &\n                       bird_dat_ptct$SiteName == \"El Palacio Nacional (original)\" &\n                       bird_dat_ptct$Date == date(\"2019-12-20\")] &lt;- \"GA03\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA16\" &\n                       bird_dat_ptct$SiteName == \"El Palacio Nacional (original)\" &\n                       bird_dat_ptct$Date == date(\"2019-12-20\")] &lt;- \"GA03\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA17\" &\n                       bird_dat_ptct$SiteName == \"El Palacio Nacional (original)\" &\n                       bird_dat_ptct$Date == date(\"2019-12-20\")] &lt;- \"GA03\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA18\" &\n                       bird_dat_ptct$SiteName == \"El Palacio Nacional (original)\" &\n                       bird_dat_ptct$Date == date(\"2019-12-20\")] &lt;- \"GA03\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA08\" &\n                       bird_dat_ptct$SiteName == \"Primera Iglesia Evangelica\" &\n                       bird_dat_ptct$Date == date(\"2018-06-09\")] &lt;- \"ZC08\"\nbird_dat_ptct$SectorID[bird_dat_ptct$SiteID == \"GA08\" &\n                       bird_dat_ptct$SiteName == \"Primera Iglesia Evangelica\" &\n                       bird_dat_ptct$Date == date(\"2018-06-09\")] &lt;- \"ZC\"\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteName == \"Residencial Luz De Luna\" ] &lt;- \n  \"Residencial Luz de Luna\"\n\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteName == \"Plaza de la Cultura\" ] &lt;- \n  \"Plaza de La Cultura\"\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteName == \"Plaza De La Cultura\" ] &lt;- \n  \"Plaza de La Cultura\"\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteName == \"Bellas artes\" ] &lt;- \n  \"Bellas Artes\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA115\" &\n                       bird_dat_ptct$SiteName == \"Ministerio de Cultura\" &\n                       bird_dat_ptct$Date == date(\"2018-04-06\")] &lt;- \"GA64\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA173\" &\n                       bird_dat_ptct$SiteName == \"Detras Casa de Balaguer\" &\n                       bird_dat_ptct$Date == date(\"2018-02-26\")] &lt;- \"GA172\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA65\" &\n                       bird_dat_ptct$SiteName == \"Ministerio de Cultura\" &\n                       bird_dat_ptct$Date == date(\"2018-06-24\")] &lt;- \"GA64\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"GA08\" &\n                       bird_dat_ptct$SiteName == \"Ministerio de Cultura\" &\n                       bird_dat_ptct$Date == date(\"2017-04-07\")] &lt;- \"GA64\"\n\n\nSan Carlos\n\nCode# SAN CARLOS SiteID/SiteName corrections\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"SC17\" &\n                       bird_dat_ptct$SiteName == \"Barra Payan Calle 30 de Marzo\" &\n                       bird_dat_ptct$Date == date(\"2020-11-06\")] &lt;- \"CN13\"\nbird_dat_ptct$SectorID[bird_dat_ptct$SiteID == \"CN13\" &\n                       bird_dat_ptct$SiteName == \"Barra Payan Calle 30 de Marzo\" &\n                       bird_dat_ptct$Date == date(\"2020-11-06\")] &lt;- \"CN\"\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteID == \"CN13\" &\n                       bird_dat_ptct$SiteName == \"Barra Payan Calle 30 de Marzo\" &\n                       bird_dat_ptct$Date == date(\"2020-11-06\")] &lt;- \n  \"Pica Pollo Ana Calle E. M. Hosto\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"SC21\" &\n                       bird_dat_ptct$SiteName == \"Supermercado de Las Flores\" &\n                       bird_dat_ptct$Date == date(\"2022-05-10\")] &lt;- \"SC20\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"SC22\" &\n                       bird_dat_ptct$SiteName == \"Supermercado de Las Flores\" &\n                       bird_dat_ptct$Date == date(\"2022-05-10\")] &lt;- \"SC20\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"SC23\" &\n                       bird_dat_ptct$SiteName == \"Supermercado de Las Flores\" &\n                       bird_dat_ptct$Date == date(\"2022-05-10\")] &lt;- \"SC20\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"SC24\" &\n                       bird_dat_ptct$SiteName == \"Supermercado de Las Flores\" &\n                       bird_dat_ptct$Date == date(\"2022-05-10\")] &lt;- \"SC20\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"SC25\" &\n                       bird_dat_ptct$SiteName == \"Supermercado de Las Flores\" &\n                       bird_dat_ptct$Date == date(\"2022-05-10\")] &lt;- \"SC20\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"SC26\" &\n                       bird_dat_ptct$SiteName == \"Supermercado de Las Flores\" &\n                       bird_dat_ptct$Date == date(\"2022-05-10\")] &lt;- \"SC20\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"SC27\" &\n                       bird_dat_ptct$SiteName == \"Supermercado de Las Flores\" &\n                       bird_dat_ptct$Date == date(\"2022-05-10\")] &lt;- \"SC20\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"SC28\" &\n                       bird_dat_ptct$SiteName == \"Supermercado de Las Flores\" &\n                       bird_dat_ptct$Date == date(\"2022-05-10\")] &lt;- \"SC20\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"SC29\" &\n                       bird_dat_ptct$SiteName == \"Supermercado de Las Flores\" &\n                       bird_dat_ptct$Date == date(\"2022-05-10\")] &lt;- \"SC20\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"SC30\" &\n                       bird_dat_ptct$SiteName == \"Supermercado de Las Flores\" &\n                       bird_dat_ptct$Date == date(\"2022-05-10\")] &lt;- \"SC20\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"SC31\" &\n                       bird_dat_ptct$SiteName == \"Supermercado de Las Flores\" &\n                       bird_dat_ptct$Date == date(\"2022-05-10\")] &lt;- \"SC20\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"SC26\" &\n                       bird_dat_ptct$SiteName == \"OR Solar Calle 30 de Marzo\" &\n                       bird_dat_ptct$Date == date(\"2022-09-30\")] &lt;- \"SC16\"\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteID == \"SC28\" &\n                       bird_dat_ptct$SiteName == \"AV. 27 de  Febbrero con 30 de Marzo\" &\n                       bird_dat_ptct$Date == date(\"2016-12-01\")] &lt;- \n  \"AV. 27 de Febrero con 30 de Marzo\"\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteID == \"SC28\" &\n                       bird_dat_ptct$SiteName == \"AV. 27 de  Febbrero con 30 de Marzo\" &\n                       bird_dat_ptct$Date == date(\"2016-12-14\")] &lt;- \n  \"AV. 27 de Febrero con 30 de Marzo\"\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteID == \"SC28\" &\n                       bird_dat_ptct$SiteName == \"AV. 27 de  Febbrero con 30 de Marzo\" &\n                       bird_dat_ptct$Date == date(\"2016-12-23\")] &lt;- \n  \"AV. 27 de Febrero con 30 de Marzo\"\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteID == \"SC35\" &\n                       bird_dat_ptct$SiteName == \"Callejon Imbert (Jesus arca)\" &\n                       bird_dat_ptct$Date == date(\"2017-07-24\")] &lt;- \n  \"Callejon Imbert (Jesus Arca)\"\n\n\nZona Colonial\n\nCode# ZONA COLONIAL SiteID/SiteName corrections\n# unable to initially rectify ZC05 SiteID in the pointcount data, so removing it\n# bird_dat_ptct &lt;- filter(bird_dat_ptct, SiteID != \"ZC05\")\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteName == \"El destacamento (S. Piedra)\" ] &lt;- \n  \"El Destacamento (S. Piedra)\"\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteName == \"Calle Celestino Con Merino\" ] &lt;- \n  \"Calle Celestino con Merino\"\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteName == \"Frente A Kalea\" ] &lt;- \n\"Frente a Kalea\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC12\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC13\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC14\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC15\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC16\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC17\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC18\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC19\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC20\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC21\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC22\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC23\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC24\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC25\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC26\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC27\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC28\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC29\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC30\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC31\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC32\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC33\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC34\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC35\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC36\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZC37\" &\n                       bird_dat_ptct$SiteName == \"Estatua Montesino\" &\n                       bird_dat_ptct$Date == date(\"2018-06-22\")] &lt;- \"ZC11\"\nbird_dat_ptct$SiteName[bird_dat_ptct$SiteID == \"ZC21\" &\n                       bird_dat_ptct$SiteName == \"Final Calle El Conde\" &\n                       bird_dat_ptct$Date == date(\"2017-10-23\")] &lt;- \"Callejon de Regina\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA06\" &\n                       bird_dat_ptct$SiteName == \"Calle Celestino con Merino\" &\n                       bird_dat_ptct$Date == date(\"2022-02-05\")] &lt;- \"ZC07\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA07\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA08\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA09\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA10\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA11\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA12\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA13\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA14\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA15\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA16\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA17\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA18\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA19\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA20\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA21\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA22\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA23\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA24\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA25\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA26\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA27\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\nbird_dat_ptct$SiteID[bird_dat_ptct$SiteID == \"ZCA28\" &\n                       bird_dat_ptct$SiteName == \"Calle Hosto con Arzobispo P.\" &\n                       bird_dat_ptct$Date == date(\"2022-04-20\")] &lt;- \"ZCA06\"\n\n\nDate corrections\nCompanion excel file used to link pairs of sites that did not have matching dates is named “sitevisit_sitedf_pointcountdf_join.xlsx” and provides notes on how each date entry error was identified and then fixed using the code below.\n\nCode# ErrorEntryPairing 1\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN02\" & \n                     bird_dat_ptct$Date == date(\"2019-02-12\")] &lt;- date(\"2019-03-12\")\n# ErrorEntryPairing 4\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN03\" & \n                     bird_dat_ptct$Date == date(\"2019-02-12\")] &lt;- date(\"2019-03-12\")\n# ErrorEntryPairing 5\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN04\" & \n                     bird_dat_ptct$Date == date(\"2019-02-13\")] &lt;- date(\"2019-03-13\")\n# ErrorEntryPairing 6\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN09\" & \n                     bird_dat_ptct$Date == date(\"2019-02-12\")] &lt;- date(\"2019-03-12\")\n# ErrorEntryPairing 9\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN12\" & \n                     bird_dat_ptct$Date == date(\"2019-02-13\")] &lt;- date(\"2019-03-13\")\n# ErrorEntryPairing 11\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN13\" & \n                     bird_dat_ptct$Date == date(\"2019-02-12\")] &lt;- date(\"2019-03-12\")\n# ErrorEntryPairing 14\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN14\" & \n                     bird_dat_ptct$Date == date(\"2019-02-12\")] &lt;- date(\"2019-03-12\")\n# ErrorEntryPairing 17\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN18\" & \n                     bird_dat_ptct$Date == date(\"2019-02-13\")] &lt;- date(\"2019-03-13\")\n# ErrorEntryPairing 20\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN21\" & \n                     bird_dat_ptct$Date == date(\"2019-02-13\")] &lt;- date(\"2019-03-13\")\n# ErrorEntryPairing 23\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN22\" & \n                     bird_dat_ptct$Date == date(\"2019-02-13\")] &lt;- date(\"2019-03-13\")\n# ErrorEntryPairing 24\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN25\" & \n                     bird_dat_ptct$Date == date(\"2019-02-12\")] &lt;- date(\"2019-03-12\")\n# ErrorEntryPairing 27\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN27\" & \n                     bird_dat_ptct$Date == date(\"2019-02-12\")] &lt;- date(\"2019-03-12\")\n# ErrorEntryPairing 29\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN30\" & \n                     bird_dat_ptct$Date == date(\"2019-02-13\")] &lt;- date(\"2019-03-13\")\n# ErrorEntryPairing 30\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN30\" & \n                     bird_dat_ptct$Date == date(\"2019-11-14\")] &lt;- date(\"2019-11-13\")\n# ErrorEntryPairing 31\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN33\" & \n                     bird_dat_ptct$Date == date(\"2019-02-13\")] &lt;- date(\"2019-03-13\")\n# ErrorEntryPairing 34\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"CN34\" & \n                     bird_dat_ptct$Date == date(\"2019-02-13\")] &lt;- date(\"2019-03-13\")\n# ErrorEntryPairing 39\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"GA05\" & \n                     bird_dat_ptct$Date == date(\"2019-04-23\")] &lt;- date(\"2019-04-24\")\n# ErrorEntryPairing 42\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"GA222\" & \n                     bird_dat_ptct$Date == date(\"2020-01-20\")] &lt;- date(\"2020-01-21\")\n# ErrorEntryPairing 43\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"GA42\" & \n                     bird_dat_ptct$Date == date(\"2019-11-21\")] &lt;- date(\"2019-11-22\")\n# ErrorEntryPairing 45\nbird_dat_ptct$Date[bird_dat_ptct$SiteID == \"SC01\" & \n                     bird_dat_ptct$Date == date(\"2021-11-17\")] &lt;- date(\"2021-11-18\")\n\n\nRemove and then rejoin the i-Tree plot details to this data set following the corrected dates and site IDs.\n\nCodebird_dat_ptct &lt;- bird_dat_ptct |&gt;\n  filter(!is.na(SiteID)) |&gt;\n  select(-PlotNum, -itreeplotID, -SectorID, -lat, -long) |&gt;\n  left_join(select(birditree_sitejoin_key,\n                    SiteID, PlotNum, itreeplotID, SectorID, lat, long), \n            by = \"SiteID\")\n\n\nBird alpha code and name corrections\nCorrections to records with ambiguous 4-letter alpha codes. Fixes referenced with IBP 2023 lists for bird codes.\n\nCodebird_dat_ptct$SppAlphaCode[bird_dat_ptct$SppAlphaCode == \"COCKATOO\"] &lt;- \"SUCO\"\nbird_dat_ptct$SppAlphaCode[bird_dat_ptct$SppAlphaCode == \"Cockatoo\"] &lt;- \"SUCO\"\nbird_dat_ptct$SppAlphaCode[bird_dat_ptct$SppAlphaCode == \"Empid sp.\"] &lt;- \"UNEM\"\nbird_dat_ptct$SppAlphaCode[bird_dat_ptct$SppAlphaCode == \"Lovebird\"] &lt;- \"RFLO\"\nbird_dat_ptct$SppAlphaCode[bird_dat_ptct$SppAlphaCode == \"roPI\"] &lt;- \"ROPI\"\n\nbird_dat_ptct &lt;- bird_dat_ptct |&gt;\n  left_join(select(key_bird_names,AlphaCode, ScientificName, CommonNameEnglish), \n            by = c(\"SppAlphaCode\"=\"AlphaCode\"))\n\n\nAdditional updates to the point count data with incorrect alpha codes that need to be updated to match 2023 IBP list conventions.\n\nCode# corrections to bird_dat_ptct based on IBP 2023 names list\nbird_dat_ptct$SppAlphaCode[bird_dat_ptct$SppAlphaCode == \"ANMA\"] &lt;- \"HIMA\"\n\nbird_dat_ptct$SppAlphaCode[bird_dat_ptct$SppAlphaCode == \"BRBO\"] &lt;- \"BRNO\"\n\nbird_dat_ptct$SppAlphaCode[bird_dat_ptct$SppAlphaCode == \"COGD\"] &lt;- \"CGDO\"\n\n\nGeneral field updates for point count data\n\nCode# season function for assigning bird season basd on date of point count\nseason_fnx &lt;- function(smpl_date) {\n  season &lt;- if_else(month(smpl_date)  %in% 6:8, \"breeding\",\n                          if_else(month(smpl_date)  %in% 9:11, \"fallmigr\",\n                                  if_else(month(smpl_date) %in% c(12,1,2), \"ovrwintr\", \n                                          if_else(month(smpl_date) %in% 3:5, \"sprgmigr\", NA ) ) ) )\n}\n\n\n\nCodebird_dat_ptct &lt;- bird_dat_ptct |&gt;\n  as_tibble() |&gt; lazy_dt() %&gt;%\n  mutate(season =  factor(season_fnx(Date) ) ) |&gt;\n  data.frame()\n\n# summary(bird_dat_ptct$season)\n\n\n\nMerge Site Visit and Point Count data after corrections\nCheck to see if the corrections fixed mismatched dates\nCondense the Site visit and point count data to a similar structure for comparison.\n\nCodesitevisit_site_df &lt;- bird_dat_site |&gt;\n  select(SectorName, SiteID, Date) |&gt;\n  mutate(SiteID = factor(SiteID),\n         source_site_df = 1 ) |&gt;\n  arrange(SectorName, SiteID, Date)\n\nsitevisit_ptct_df &lt;- bird_dat_ptct |&gt;\n  reframe(.by = c(SectorName, SiteID, Date), birdobs = n()) |&gt;\n  select(-birdobs) |&gt;\n  mutate(SectorName = factor(SectorName),\n         SiteID = factor(SiteID),\n         source_ptct_df = 1 ) |&gt;\n  arrange(SectorName, SiteID, Date)\n\n\nThis join matches all site data (disturbance, noise, etc.) with each point count survey, but saves only those that are UNMATCHED to check if the corrections worked. There should be 30 rows in the sitevisit_join_df as these were the remaining entries that could not be matched/resolved.\n\nCodesitevisit_join_df &lt;- sitevisit_ptct_df |&gt;\n  full_join(sitevisit_site_df, by = join_by(SectorName, SiteID, Date)) |&gt;\n  filter(is.na(source_site_df) | is.na(source_ptct_df) ) \n\nwrite_csv(sitevisit_join_df, \n          file = \"./data/sitevisit_sitedf_pointcountdf_join.csv\")\n\n\nRemove records that cannot be used\nWe can now remove the site visit and point count data records that are unlinked with each corresponding data set before joining the two together into one final bird data set that be used in downstream analyses.\n\nCode# remove the unusable point count data records\nsitevisit_join_df_ptct_removal &lt;- sitevisit_join_df |&gt;\n  filter(!is.na(source_ptct_df)) |&gt;  select(-source_site_df) |&gt;\n  full_join(bird_dat_ptct, by = c(\"SectorName\", \"SiteID\", \"Date\"))  |&gt;\n  filter(is.na(source_ptct_df)) |&gt; select(-source_ptct_df)\n\n# remove the unusable site visit data records\nsitevisit_join_df_site_removal &lt;- sitevisit_join_df |&gt;\n  filter(!is.na(source_site_df)) |&gt;  select(-source_ptct_df) |&gt;\n  full_join(bird_dat_site, by = c(\"SectorName\", \"SiteID\", \"Date\"))  |&gt;\n  filter(is.na(source_site_df)) |&gt; select(-source_site_df) \n\n\nJoin site and point count data sets together\n\nCodebird_dat_ptct_site_data_merge &lt;- sitevisit_join_df_ptct_removal |&gt;\n  left_join(select(sitevisit_join_df_site_removal, -SiteName, -SectorID, -itreeplotID),\n            by = c(\"SectorName\", \"SiteID\", \"Date\"))\n\n\nSave cleaned bird data\n\nCode# save point count data for each subset of sites\n# All 71 sites\nsaveRDS(bird_dat_ptct, file=\"./data/RDS/bird_pointcount_data_71sites.RDS\")\nwrite_csv(bird_dat_ptct, file=\"./data/bird/bird_pointcount_data_71sites.csv\")\n\n# All 69 sites that have paired site visit and point count data\nsaveRDS(sitevisit_join_df_ptct_removal, \n        file = \"./data/RDS/bird_pointcount_data_69sites.RDS\")\nwrite_csv(sitevisit_join_df_ptct_removal, \n          file = \"./data/bird/bird_pointcount_data_69sites.csv\")\n\n# Subset of 60 sites that have paired i-Tree plots\nsaveRDS(filter(sitevisit_join_df_ptct_removal, !is.na(PlotNum)), \n        file = \"./data/RDS/bird_pointcount_data_60itreesites.RDS\")\nwrite_csv(filter(sitevisit_join_df_ptct_removal, !is.na(PlotNum)), \n          file = \"./data/bird/bird_pointcount_data_60itreesites.csv\")\n\n\n# save site visit data (69 Sites total: missing 2 unknown sites in point counts)\nsaveRDS(sitevisit_join_df_site_removal, \n        file = \"./data/RDS/bird_sitevisit_data.RDS\")\nwrite_csv(sitevisit_join_df_site_removal, \n          file = \"./data/bird/bird_sitevisit_data.csv\")\n\n\n\nBird abundance data assembly\nAbundance values taken based on the maximum number of individuals recorded from the three different timed surveys on a given date. Some point count surveys had multiple entries for an individual species within a single timed survey (e.g., distinct groups of individuals observed simultaneously on different substrates or at different distances). These distinct records were summed for a given species within each timed survey on a given date. The maximum of these timed survey sums for a species is the final “abundance” value used for a species on a given date at a site.\n\nCode# point count abundance data includes all 71 sites WITH FO records\nbird_ptct_abund_allsites_wFO &lt;- bird_dat_ptct |&gt;\n  as_tibble() |&gt; lazy_dt() %&gt;%\n  select(SiteID, Date, SppAlphaCode, contains(\"NumInd\")) |&gt;\n  pivot_longer(cols = c(T1NumInd,T2NumInd,T3NumInd), \n               names_to = \"SurveyTime\", values_to = \"NumInd\") |&gt; \n  mutate(.by = c(SiteID, Date, SppAlphaCode),\n         abund_max = max(NumInd, na.rm = TRUE)) |&gt;  \n  arrange(SiteID, Date, SppAlphaCode) |&gt;\n  select(SiteID, Date, SppAlphaCode, abund_max) |&gt;\n  mutate(abund_ptct = if_else(is.na(abund_max), 1, abund_max)) |&gt;\n  mutate(season = season_fnx(Date), smpl_mon = month(Date)) |&gt;\n  select(-abund_max) |&gt;\n  distinct() |&gt; data.frame()\n\n\n\nCode# point count abundance data includes all 71 sites WITHOUT FO records\nbird_ptct_abund_allsites_woFO &lt;- bird_dat_ptct |&gt;\n  as_tibble() |&gt; lazy_dt() %&gt;%\n  # remove Fly Over observations from species counts\n  mutate(FTorFO = factor(FTorFO)) |&gt;  filter(FTorFO %in% c(NA,\"FT\") ) |&gt;\n  select(SiteID, Date, SppAlphaCode, contains(\"NumInd\")) |&gt;\n  pivot_longer(cols = c(T1NumInd,T2NumInd,T3NumInd), \n               names_to = \"SurveyTime\", values_to = \"NumInd\") |&gt; \n  mutate(.by = c(SiteID, Date, SppAlphaCode),\n         abund_max = max(NumInd, na.rm = TRUE)) |&gt;  \n  arrange(SiteID, Date, SppAlphaCode) |&gt;\n  select(SiteID, Date, SppAlphaCode, abund_max) |&gt;\n  mutate(abund_ptct = if_else(is.na(abund_max),1,abund_max)) |&gt;\n  mutate(season = season_fnx(Date), smpl_mon = month(Date)) |&gt;\n  select(-abund_max) |&gt;\n  distinct() |&gt; data.frame()\n\n\n\nCode# point count abundance data includes 60 paired i-Tree sites WITH FO records\nbird_ptct_abund_itreesites_wFO &lt;- sitevisit_join_df_ptct_removal |&gt;\n  filter(!is.na(PlotNum)) |&gt;  # remove sites without paired i-Tree plots\n  as_tibble() |&gt; lazy_dt() %&gt;%\n  select(SiteID, Date, SppAlphaCode, contains(\"NumInd\")) |&gt;\n  pivot_longer(cols = c(T1NumInd,T2NumInd,T3NumInd), \n               names_to = \"SurveyTime\", values_to = \"NumInd\") |&gt; \n  mutate(.by = c(SiteID, Date, SppAlphaCode),\n         abund_max = max(NumInd, na.rm = TRUE)) |&gt;  \n  arrange(SiteID, Date, SppAlphaCode) |&gt;\n  select(SiteID, Date, SppAlphaCode, abund_max) |&gt;\n  mutate(abund_ptct = if_else(is.na(abund_max),1,abund_max)) |&gt;\n  mutate(season = season_fnx(Date), smpl_mon = month(Date)) |&gt;\n  select(-abund_max) |&gt;\n  distinct() |&gt; data.frame()\n\n\n\nCode# point count abundance data includes 60 paired i-Tree sites WITHOUT FO records\nbird_ptct_abund_itreesites_woFO &lt;- sitevisit_join_df_ptct_removal |&gt;\n  filter(!is.na(PlotNum)) |&gt;  # remove sites without paired i-Tree plots\n  as_tibble() |&gt; lazy_dt() %&gt;%\n  # remove Fly Over observations from species counts\n  mutate(FTorFO = factor(FTorFO)) |&gt;  filter(FTorFO %in% c(NA,\"FT\") ) |&gt;\n  select(SiteID, Date, SppAlphaCode, contains(\"NumInd\")) |&gt;\n  pivot_longer(cols = c(T1NumInd,T2NumInd,T3NumInd), \n               names_to = \"SurveyTime\", values_to = \"NumInd\") |&gt; \n  mutate(.by = c(SiteID, Date, SppAlphaCode),\n         abund_max = max(NumInd, na.rm = TRUE)) |&gt;  \n  arrange(SiteID, Date, SppAlphaCode) |&gt;\n  select(SiteID, Date, SppAlphaCode, abund_max) |&gt;\n  mutate(abund_ptct = if_else(is.na(abund_max),1,abund_max)) |&gt;\n  mutate(season = season_fnx(Date), smpl_mon = month(Date)) |&gt;\n  select(-abund_max) |&gt;\n  distinct() |&gt; data.frame()\n\n\nSave all these abundance summaries separately for easy access in the future.\n\nCode# All 71 sites WITH Fly Overs\nsaveRDS(bird_ptct_abund_allsites_wFO, \n        file = \"./data/RDS/bird_abundace_data_all71sites_wFO.RDS\")\n# All 71 sites WITHOUT Fly Overs\nsaveRDS(bird_ptct_abund_allsites_woFO, \n        file = \"./data/RDS/bird_abundace_data_all71sites_woFO.RDS\")\n\n\n# i-Tree paired sites only WITH Fly Overs\nsaveRDS(bird_ptct_abund_itreesites_wFO, \n        file = \"./data/RDS/bird_abundance_data_60itreesites_wFO.RDS\")\n# i-Tree paired sites only WITHOUT Fly Overs\nsaveRDS(bird_ptct_abund_itreesites_woFO, \n        file = \"./data/RDS/bird_abundance_data_60itreesites_woFO.RDS\")",
    "crumbs": [
      "Bird and i-Tree Data Cleaning"
    ]
  },
  {
    "objectID": "SD00datacleaning.html#i-tree-data-preparation",
    "href": "SD00datacleaning.html#i-tree-data-preparation",
    "title": "Bird and i-Tree Data Cleaning",
    "section": "i-Tree data preparation",
    "text": "i-Tree data preparation\nGather lists of files exported from i-Tree ECO software that hold all the vegetation and plot data for each Sector in Santo Domingo.\n\nCode# Generate a list of files for each sector to read in.  \nCN_files &lt;- list.files(path = \"./data/itree/ciudad_nueva/\", \n                       recursive = TRUE, pattern = \".csv$\", full.names = TRUE)\nZC_files &lt;- list.files(path = \"./data/itree/zona_colonial/\", \n                       recursive = TRUE, pattern = \".csv$\", full.names = TRUE)\nGA_files &lt;- list.files(path = \"./data/itree/gazcue/\", \n                       recursive = TRUE, pattern = \".csv$\", full.names = TRUE)\nSC_files &lt;- list.files(path = \"./data/itree/san_carlos/\", \n                       recursive = TRUE, pattern = \".csv$\", full.names = TRUE)\n\n\nPlot-level data from i-Tree\ni-Tree plot data are read in and adjusted as necessary (currently just a coordinate update for site ZC11).\n\nCodeplot_data_df &lt;- itree_sector_combine(\"_PLOTS.csv\")\n# ZC11 plot has a Latitude entry error. 18.88447 N puts it ~45 kms outside SD\n# Lat of 18.469201 places near the Antonio De Montesinos statue which is noted\n# as nearby for the bird data SiteName for the associated Bird SiteID.\nplot_data_df$`Latitude (Y)`[plot_data_df$Address == \n                             \"Calle Arzobispo casi esquina Calle Hostos\" & \n                             plot_data_df$ID == 11] &lt;- 18.469201  \nplot_data_df$`Longitude (X)`[plot_data_df$Address == \n                             \"Calle Arzobispo casi esquina Calle Hostos\" & \n                             plot_data_df$ID == 11] &lt;- -69.884449  \n\n\nPercent coverage of plots\nPlot data exported from i-Tree were accompanied by summary statistics for percent coverage by trees or shrubs for each plot. Additionally, there was a field for percent coverage plantable in each plot. These values were provided as range values (e.g., 15-20%) so these categorical ranges were converted to a numerical percent value in the middle of the range for each category.\n\nCode# key table linking percent values to specific percent ranges\nkey_pctcoverage &lt;- \n  read_csv(file = \"./data/itree/key_project_tree_percent_cover_key.csv\", \n           col_types = \"fd\")\n\n# assigns percent values to percent ranges entered into i-Tree reports\nplotcov_df &lt;- plot_data_df |&gt;\n  mutate(itreeplotID = paste0(SectorID, str_pad(ID, width = 4, \n                                                side = 'left', pad = '0')) ) |&gt;\n  select(SectorID, ID, itreeplotID, contains(\"%\"), -`% Measured`) |&gt;\n  pivot_longer(cols = contains(\"%\"),\n               names_to = \"Coverage\", values_to = \"PercentRange\") |&gt;\n  mutate(PercentRange = as.factor(PercentRange)) |&gt;\n  left_join(key_pctcoverage, by = c(\"PercentRange\"=\"bin\")) |&gt;\n  rename(Percent = \"value\") |&gt;\n  mutate(Coverage = gsub(x = Coverage, pattern = \"% \", replacement = \"perc\")) |&gt;\n  pivot_wider(id_cols = c(\"SectorID\",\"ID\",\"itreeplotID\"), \n              names_from = \"Coverage\", values_from = \"Percent\") |&gt;\n  arrange(percTree) |&gt;\n  left_join(select(birditree_sitejoin_key, itreeplotID, SectorName),\n            by = c(\"itreeplotID\")) |&gt;\n  select(contains(c(\"itreeplot\",\"perc\")))\n\n\nJoin the percent value data to the original plot data that include the factored range value entries. Also a little renaming of columns for easier manipulation in R.\n\nCode# organize plot data for saving\nplot_data_org &lt;- plot_data_df |&gt;\n  select(-Stratum, -Date, -`Contact Info`, -`Complete?`, -`Photo ID`, -Stake) |&gt;\n  rename(PlotNum = \"ID\",\n         lat = \"Latitude (Y)\",\n         long = \"Longitude (X)\",\n         Size_ha = \"Size (ha)\",\n         percTreerng = \"% Tree\",\n         percShrubrng = \"% Shrub\",\n         percMeasrng = \"% Measured\",\n         percPlantablerng = \"% Plantable\") |&gt;\n  mutate(itreeplotID = paste0(SectorID, str_pad(PlotNum, width = 4, \n                                                side = 'left', pad = '0') )) |&gt;\n  select(SectorID, PlotNum, itreeplotID, Address, lat, long, everything() ) |&gt;\n  left_join(plotcov_df, by = \"itreeplotID\")\n\n\nSave the plot data.\n\nCode# save organized i-Tree plot data to file for joining with bird data\nsaveRDS(object = plot_data_org, \n        file = \"./data/itree/itree_plot_data_organized.RDS\")\n\n\nTrees data from i-Tree\nUsing the local function itree_sector_combine() read in the tree data from each i-Tree plot and then remove uniform factors that can’t be used to explain variation among i-Tree plots. For example, all “Tree Stress: Dieback” entires were “None” or “NA”, so there’s nothing in that variable to leverage as an explanatory variable.\n\nCodetree_dat_df &lt;- itree_sector_combine(\"_TREES.csv\")  |&gt; \n  mutate(across(.cols = where(is.character), .fns = factor)) |&gt;\n  select(!starts_with(c(\"Sidew\", \"Lati\", \"Longi\", \"Foliage\", \"Branches\", \n                        \"Tree Stress\", \"Primary P\")))\n\n\ni-Tree tree species names were not entirely consistent (a mix of either common or scientific names first followed by the other in parentheses). We used a key table that holds the tree names organized in four columns (i-Tree name entry, Genus, Species, Common) that can be joined to the original i-Tree names and allows us to maintain the original data alongside an organized set of scientific and common name components.\n\nCodekey_tree_names &lt;- read_csv(file = \"./data/itree/key_tree_names.csv\")\n\n\n\nCodetree_data_org &lt;- tree_dat_df |&gt; \n  rename(iTreeSppName = \"Species\") |&gt;\n  left_join(key_tree_names, by = c(\"iTreeSppName\" = \"iTree\")) |&gt;\n  # arrange(Genus, Species, Common) |&gt;\n  rename(PlotNum = \"Plot\", TreeNum = \"ID\") |&gt;\n  mutate(itreeplotID = paste0(SectorID, str_pad(PlotNum, width = 4, \n                                                side = 'left', pad = '0')),\n  \n         SurveyDate = lubridate::mdy(`Survey Date`) ) |&gt;\n  select(-`Survey Date`) |&gt;\n  rename(landcover = \"Land Use\",\n         DBH1cm = \"DBH 1 (cm)\",\n         DBH1hghtm = \"DBH 1: Height (m)\",\n         DBH1meas = \"DBH 1: Measured?\",\n         DBH2cm = \"DBH 2 (cm)\",\n         DBH2hghtm = \"DBH 2: Height (m)\",\n         DBH2meas = \"DBH 2: Measured?\",\n         DBH3cm = \"DBH 3 (cm)\",\n         DBH3hghtm = \"DBH 3: Height (m)\",\n         DBH3meas = \"DBH 3: Measured?\",\n         DBH4cm = \"DBH 4 (cm)\",\n         DBH4hghtm = \"DBH 4: Height (m)\",\n         DBH4meas = \"DBH 4: Measured?\",\n         DBH5cm = \"DBH 5 (cm)\",\n         DBH5hghtm = \"DBH 5: Height (m)\",\n         DBH5meas = \"DBH 5: Measured?\",\n         DBH6cm = \"DBH 6 (cm)\",\n         DBH6hghtm = \"DBH 6: Height (m)\",\n         DBH6meas = \"DBH 6: Measured?\",\n         TreeHght_m = \"Total Height (m)\",\n         crown_cond = \"Crown: Condition\",\n         crown_tophghtm = \"Crown: Top Height (m)\",\n         crown_basehghtm = \"Crown: Base Height (m)\",\n         crown_width_NSm = \"Crown: Width N/S (m)\",\n         crown_width_EWm = \"Crown: Width E/W (m)\",\n         crown_percmiss = \"Crown: % Missing\",\n         crown_percdiebk = \"Crown: % Dieback\",\n         crown_lightexp = \"Crown: Light Exposure\",\n         percimperv = \"% Impervious\",\n         percshrub = \"% Shrub\",\n         build1_dir = \"Building 1: Direction\",\n         build1_distm = \"Building 1: Distance (m)\",\n         build2_dir = \"Building 2: Direction\",\n         build2_distm = \"Building 2: Distance (m)\",\n         build3_dir = \"Building 3: Direction\",\n         build3_distm = \"Building 3: Distance (m)\",\n         build4_dir = \"Building 4: Direction\",\n         build4_distm = \"Building 4: Distance (m)\",\n         streettree_TF = \"Street Tree?\",\n         maint_rec = \"Maintenance Recommended\",\n         maint_task = \"Maintenance Task\")\n\n# save organized i-Tree data to file for joining with bird data\nsaveRDS(object = tree_data_org, \n        file = \"./data/itree/itree_tree_data_organized.RDS\")\n\n\nShrubs data from i-Tree\n\nCode# Reading in all the i-Tree data on shrubs from each plot.  \nshrub_dat_df &lt;- itree_sector_combine(\"_SHRUBS.csv\")\n\n\ni-Tree shrub species names were not entirely consistent (a mix of either common or scientific names first followed by the other in parentheses). We used a key table that holds the shrub names organized in four columns (i-Tree name entry, Genus, Species, Common) that can be joined to the original i-Tree names and allows us to maintain the original data alongside an organized set of scientific and common name components.\n\nCode# read in shrub naming key\nkey_shrub_names &lt;- read_csv(file = \"./data/itree/key_shrub_names.csv\")\n\n\n\nCode# get shrub data organized for export\nshrub_data_org &lt;- shrub_dat_df |&gt;\n  rename(PlotNum = \"Plot\", \n         ShrubNum = \"ID\", \n         SppShrubName = \"Species\",\n         ShrubHght_m = \"Height (m)\",\n         PercShrubArea = \"% Shrub Area\",\n         PercShrubMiss = \"% Missing\") |&gt;\n  select(SectorID, PlotNum, ShrubNum, everything(), -Comments) |&gt;\n  left_join(key_shrub_names, by = c(\"SppShrubName\"=\"iTree\")) |&gt;\n  mutate(itreeplotID = paste0(SectorID, str_pad(PlotNum, width = 4, \n                                                side = 'left', pad = '0')) ) |&gt;\n  mutate(itree_shrubID = paste0(itreeplotID,\"_\",ShrubNum))\n\n\n\nCode# save organized i-Tree data to file for joining with bird data\nsaveRDS(object = shrub_data_org, \n        file = \"./data/itree/itree_shrub_data_organized.RDS\")\n\n\ni-Tree sector all benefits summary\nRead in the benefits and costs summary, composite structure of individual trees summary, hydrology effects summary, and pollution removal summary data from i-Tree reports.\n\nCodebene_and_cost_df &lt;- itree_sector_combine(\"_benefitcostsummary.csv\") |&gt;\n  mutate(itree_treeID = paste0(SectorID, str_pad(`Plot ID`, width = 4, \n                                                side = 'left', pad = '0'),\n                                   \"_\",`Tree ID`))\n\n\ntree_compstruc_df &lt;- itree_sector_combine(\"_compstrucindvtrees.csv\") |&gt;\n  mutate(itree_treeID = paste0(SectorID, str_pad(`Plot ID`, width = 4, \n                                                side = 'left', pad = '0'),\n                                   \"_\",`Tree ID`))\n\n\nhydrology_df &lt;- itree_sector_combine(\"_hydrologyeff.csv\") |&gt;\n  mutate(itree_treeID = paste0(SectorID, str_pad(`Plot ID`, width = 4, \n                                                side = 'left', pad = '0'),\n                                   \"_\",`Tree ID`))\n\n\npollution_df &lt;- itree_sector_combine(\"_pollutionremoval.csv\") |&gt;\n  mutate(itree_treeID = paste0(SectorID, str_pad(`Plot ID`, width = 4, \n                                                side = 'left', pad = '0'),\n                                   \"_\",`Tree ID`))\n\n\nJoin all benefits summary statistics together and update column names as needed.\n\nCodeallitreebenefits_df &lt;- bene_and_cost_df |&gt;\n  left_join(select(hydrology_df, -`Plot ID`, -`Tree ID`, -SectorID, -`Species Name`,\n                   -starts_with(c(\"Avoided Runoff\",\"Leaf Area\"))), \n            by = \"itree_treeID\") |&gt;\n  left_join(select(pollution_df, -`Plot ID`, -`Tree ID`, -SectorID, -`Species Name`), \n            by = \"itree_treeID\") |&gt;\n  left_join(select(tree_compstruc_df, -`Plot ID`, -`Tree ID`, -SectorID, \n                   -`Species Name`, -`DBH (in)`), \n            by = \"itree_treeID\") |&gt;\n  rename(PlotNum = \"Plot ID\", \n         TreeNum = \"Tree ID\", \n         SppTreeName = \"Species Name\",\n         DBHin = \"DBH (in)\", \n         treereplval_USD = \"Replacement Value ($)\",\n         Cstor_lbs = \"Carbon Storage (lb)\", \n         Cstor_USD = \"Carbon Storage ($)\",\n         Csequ_lbsyr = \"Gross Carbon Sequestration (lb/yr)\",\n         Csequ_USDyr = \"Gross Carbon Sequestration ($/yr)\",\n         Avdroff_galyr = \"Avoided Runoff (gal/yr)\",\n         Avdroff_USDyr = \"Avoided Runoff ($/yr)\",\n         Cavd_lbsyr = \"Carbon Avoided (lb/yr)\",\n         Cavd_USDyr = \"Carbon Avoided ($/yr)\",\n         PollRem_ozyr = \"Pollution Removal (oz/yr)\",\n         PollRem_USDyr = \"Pollution Removal ($/yr)\",\n         EnerSav_USDyr = \"Energy Savings ($/yr)\",\n         TotYrBene_USDyr = \"Total Annual Benefits ($/yr)\",\n         PotET_galyr = \"Potential Evapotranspiration (gal/yr)\",\n         Evap_galyr = \"Evaporation (gal/yr)\",\n         Transp_galyr = \"Transpiration (gal/yr)\",\n         h2ointer_galyr = \"Water Intercepted (gal/yr)\",\n         COremv_ozyr = \"CO Removed (oz/yr)\",\n         COremv_USDyr = \"CO Removed ($/yr)\",\n         O3remv_ozyr = \"O3 Removed (oz/yr)\",\n         O3remv_USDyr = \"O3 Removed ($/yr)\",\n         NO2remv_ozyr = \"NO2 Removed (oz/yr)\",\n         NO2remv_USDyr = \"NO2 Removed ($/yr)\",\n         SO2remv_ozyr = \"SO2 Removed (oz/yr)\",\n         SO2remv_USDyr = \"SO2 Removed ($/yr)\",\n         PM10remv_ozyr = \"PM10* Removed (oz/yr)\",\n         PM10remv_USDyr = \"PM10* Removed ($/yr)\",\n         PM2.5remv_ozyr = \"PM2.5 Removed (oz/yr)\",\n         PM2.5remv_USDyr = \"PM2.5 Removed ($/yr)\",\n         Treehght_ft = \"Height (ft)\",\n         TreeCrnhght_ft = \"Crown Height (ft)\",\n         TreeCrnwdth_ft = \"Crown Width (ft)\",\n         TreeCanCov_ft2 = \"Canopy Cover (ft^2)\",\n         TreeCondition = \"Tree Condition\",\n         LeafArea_ft2 = \"Leaf Area (ft^2)\",\n         LeafBiom_lbs = \"Leaf Biomass (lb)\",\n         LeafAreaIndex = \"Leaf Area Index\",\n         BasalArea_ft2 = \"Basal Area (ft^2)\",\n         Street_tree = \"Street Tree\",\n         NativeToState = \"Native to State\",\n         PrivTree = \"Private Tree\\r\\n\" ) |&gt;\n  mutate(itreeplotID = paste0(SectorID, str_pad(PlotNum, width = 4, \n                                                side = 'left', pad = '0') )) |&gt;\n  select(SectorID, PlotNum, TreeNum, itreeplotID, itree_treeID, everything())\n\n\n\nCode# save organized i-Tree data to file for joining with bird data\nsaveRDS(object = allitreebenefits_df, \n        file = \"./data/itree/itree_benefits_data_organized.RDS\")",
    "crumbs": [
      "Bird and i-Tree Data Cleaning"
    ]
  },
  {
    "objectID": "SD00datacleaning.html#sourced-functions-written-to-read-in-i-tree-data",
    "href": "SD00datacleaning.html#sourced-functions-written-to-read-in-i-tree-data",
    "title": "Bird and i-Tree Data Cleaning",
    "section": "Sourced functions written to read in i-Tree data",
    "text": "Sourced functions written to read in i-Tree data\nHere is the code from the functions used to help easy reading in the i-Tree data exported from the i-Tree ECO software.\nitree_readcsv() is used to read in the individual .csv files exported from each i-Tree ECO report file for a particular type of i-Tree data (e.g., benefits, hydrology, individual trees in plots, …).\n\nCodeitree_readcsv\n\nfunction (csvfilelist, data_file_pattern, SectorID) \n{\n    data_df &lt;- mutate(mutate(readr::read_csv(file = csvfilelist[grep(pattern = data_file_pattern, \n        x = csvfilelist)]), SectorID = SectorID), across(.cols = any_of(c(\"Crew\")), \n        .fns = as.character))\n    return(data_df)\n}\n&lt;bytecode: 0x000001f21a7813e8&gt;\n\n\nitree_sector_combine() is used to combine the data read in for each sector into a single data frame that includes all sectors. The individual sector data frames come from the i-Tree ECO .csv exports that are imported to R via the itree_readcsv() function noted above.\n\nCodeitree_sector_combine\n\nfunction (string_pattern) \n{\n    list_of_data_inputs &lt;- list(CN = list(CN_files, \"CN\"), GA = list(GA_files, \n        \"GA\"), SC = list(SC_files, \"SC\"), ZC = list(ZC_files, \n        \"ZC\"))\n    lapply_out &lt;- reduce(lapply(list_of_data_inputs, function(x) {\n        itree_readcsv(csvfilelist = x[[1]], data_file_pattern = string_pattern, \n            SectorID = x[[2]])\n    }), bind_rows)\n    return(lapply_out)\n}\n&lt;bytecode: 0x000001f21c30e310&gt;",
    "crumbs": [
      "Bird and i-Tree Data Cleaning"
    ]
  }
]